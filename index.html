<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Together We Rave - Beta Feedback</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff006e 0%, #3a86ff 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .form-container {
            padding: 40px 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2d3748;
            font-size: 1.4em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .question label {
            display: block;
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .required {
            color: #e53e3e;
        }

        input[type="text"],
        input[type="number"],
        input[type="email"],
        textarea,
        select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .radio-item,
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .radio-item:hover,
        .checkbox-item:hover {
            background-color: #e2e8f0;
        }

        input[type="radio"],
        input[type="checkbox"] {
            margin-right: 12px;
            width: 16px;
            height: 16px;
        }

        .radio-item label,
        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            font-weight: normal;
        }

        .rating-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .rating-slider {
            flex: 1;
        }

        .rating-value {
            font-weight: bold;
            color: #667eea;
            min-width: 30px;
            text-align: center;
        }

        .submit-section {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            border-top: 1px solid #e2e8f0;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .submit-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
        }

        .success-message,
        .error-message {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                border-radius: 8px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .form-container {
                padding: 30px 20px;
            }
            
            .question {
                padding: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

    <div class="container">
        <div class="header">
            <h1>üéµ Together We Rave</h1>
            <p>Beta Testing Feedback</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Help us build the best EDM dating experience!</p>
        </div>

        <div class="form-container">
            <div class="success-message" id="successMessage">
                <h3>‚úÖ Thank You!</h3>
                <p>Your feedback has been submitted successfully. We appreciate your help!</p>
            </div>
            
            <div class="error-message" id="errorMessage">
                <h3>‚ùå Error</h3>
                <p id="errorText">Something went wrong. Please try again.</p>
            </div>

            <form id="betaForm">
                <div class="section">
                    <h2>About You</h2>
                    
                    <div class="question">
                        <label for="age">Age <span class="required">*</span></label>
                        <input type="number" id="age" name="age" min="18" max="100" required>
                    </div>

                    <div class="question">
                        <label for="location">Location (City, State)</label>
                        <input type="text" id="location" name="location" placeholder="e.g., Miami, FL">
                    </div>

                    <div class="question">
                        <label>How long have you been in the EDM/rave scene?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="experience_new" name="edm_experience" value="new">
                                <label for="experience_new">New (less than 1 year)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="experience_1_3" name="edm_experience" value="1-3">
                                <label for="experience_1_3">1-3 years</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="experience_3_5" name="edm_experience" value="3-5">
                                <label for="experience_3_5">3-5 years</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="experience_5plus" name="edm_experience" value="5plus">
                                <label for="experience_5plus">5+ years</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="experience_veteran" name="edm_experience" value="veteran">
                                <label for="experience_veteran">Veteran (10+ years)</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label>Other dating apps you've used (check all that apply):</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="tinder" name="dating_apps" value="tinder">
                                <label for="tinder">Tinder</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="bumble" name="dating_apps" value="bumble">
                                <label for="bumble">Bumble</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="hinge" name="dating_apps" value="hinge">
                                <label for="hinge">Hinge</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="radiate" name="dating_apps" value="radiate">
                                <label for="radiate">Radiate</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="none" name="dating_apps" value="none">
                                <label for="none">None</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>App Experience</h2>
                    
                    <div class="question">
                        <label for="first_impression">First impression rating (1-10):</label>
                        <div class="rating-container">
                            <span>1</span>
                            <input type="range" id="first_impression" name="first_impression" min="1" max="10" value="5" class="rating-slider">
                            <span>10</span>
                            <div class="rating-value" id="first_impression_value">5</div>
                        </div>
                    </div>

                    <div class="question">
                        <label>Was the app easy to navigate?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="nav_very_easy" name="navigation" value="very_easy">
                                <label for="nav_very_easy">Very easy</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="nav_easy" name="navigation" value="easy">
                                <label for="nav_easy">Easy</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="nav_neutral" name="navigation" value="neutral">
                                <label for="nav_neutral">Neutral</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="nav_difficult" name="navigation" value="difficult">
                                <label for="nav_difficult">Difficult</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="nav_very_difficult" name="navigation" value="very_difficult">
                                <label for="nav_very_difficult">Very difficult</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label for="liked_most">What did you like most about the app?</label>
                        <textarea id="liked_most" name="liked_most" placeholder="Tell us what stood out..."></textarea>
                    </div>

                    <div class="question">
                        <label for="biggest_issue">What was the biggest issue or frustration?</label>
                        <textarea id="biggest_issue" name="biggest_issue" placeholder="What would you improve?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h2>Market Fit</h2>
                    
                    <div class="question">
                        <label for="continue_using">How likely are you to continue using this app? (1-10):</label>
                        <div class="rating-container">
                            <span>1</span>
                            <input type="range" id="continue_using" name="continue_using" min="1" max="10" value="5" class="rating-slider">
                            <span>10</span>
                            <div class="rating-value" id="continue_using_value">5</div>
                        </div>
                    </div>

                    <div class="question">
                        <label>Would you pay for premium features?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="pay_yes" name="pay_premium" value="yes">
                                <label for="pay_yes">Yes, definitely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="pay_maybe" name="pay_premium" value="maybe">
                                <label for="pay_maybe">Maybe</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="pay_no" name="pay_premium" value="no">
                                <label for="pay_no">No</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label for="recommend">How likely are you to recommend this to EDM friends? (1-10):</label>
                        <div class="rating-container">
                            <span>1</span>
                            <input type="range" id="recommend" name="recommend" min="1" max="10" value="5" class="rating-slider">
                            <span>10</span>
                            <div class="rating-value" id="recommend_value">5</div>
                        </div>
                    </div>

                    <div class="question">
                        <label for="solves_problem">Does this app solve a real problem for EDM dating?</label>
                        <textarea id="solves_problem" name="solves_problem" placeholder="Why or why not?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h2>Final Thoughts</h2>
                    
                    <div class="question">
                        <label for="missing_features">What features are missing?</label>
                        <textarea id="missing_features" name="missing_features" placeholder="What would make this app amazing?"></textarea>
                    </div>

                    <div class="question">
                        <label for="vs_competitors">How does this compare to other dating apps?</label>
                        <textarea id="vs_competitors" name="vs_competitors" placeholder="Better? Worse? Different?"></textarea>
                    </div>

                    <div class="question">
                        <label for="additional_feedback">Any other feedback?</label>
                        <textarea id="additional_feedback" name="additional_feedback" placeholder="Anything else we should know?"></textarea>
                    </div>

                    <div class="question">
                        <label for="email">Email (optional, for follow-up):</label>
                        <input type="email" id="email" name="email" placeholder="your@email.com">
                    </div>
                </div>

                <div class="submit-section">
                    <p style="margin-bottom: 20px; color: #666;">Thank you for helping us improve Together We Rave!</p>
                    <button type="submit" class="submit-btn" id="submitBtn">
                        Submit Feedback
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAAzd5hc88PfJyi8kfUMlDYaXgPcVAbabs",
            authDomain: "twr-beta.firebaseapp.com",
            projectId: "twr-beta",
            storageBucket: "twr-beta.firebasestorage.app",
            messagingSenderId: "536472536437",
            appId: "1:536472536437:web:e58431162246c1b1e0ff3c",
            measurementId: "G-PK6HD2DJD1"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Update rating displays
        function setupRatingSliders() {
            const sliders = document.querySelectorAll('input[type="range"]');
            sliders.forEach(slider => {
                const valueDisplay = document.getElementById(slider.id + '_value');
                slider.addEventListener('input', () => {
                    valueDisplay.textContent = slider.value;
                });
            });
        }

        // Collect form data
        function collectFormData() {
            const formData = {};
            const form = document.getElementById('betaForm');
            
            // Text inputs
            const textInputs = form.querySelectorAll('input[type="text"], input[type="email"], input[type="number"], textarea, input[type="range"]');
            textInputs.forEach(input => {
                formData[input.name] = input.value;
            });

            // Radio buttons
            const radioButtons = form.querySelectorAll('input[type="radio"]:checked');
            radioButtons.forEach(radio => {
                formData[radio.name] = radio.value;
            });

            // Checkboxes
            const checkboxes = form.querySelectorAll('input[type="checkbox"]:checked');
            const checkboxGroups = {};
            checkboxes.forEach(checkbox => {
                if (!checkboxGroups[checkbox.name]) {
                    checkboxGroups[checkbox.name] = [];
                }
                checkboxGroups[checkbox.name].push(checkbox.value);
            });
            Object.assign(formData, checkboxGroups);

            // Add metadata
            formData.timestamp = new Date().toISOString();
            formData.userAgent = navigator.userAgent;
            
            return formData;
        }

        // Submit to Firebase
        async function submitToFirebase(data) {
            try {
                const docRef = await db.collection('beta-feedback').add(data);
                return { success: true, id: docRef.id };
            } catch (error) {
                console.error('Error:', error);
                return { success: false, error: error.message };
            }
        }

        // Show messages
        function showSuccess() {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('errorMessage').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showError(message) {
            document.getElementById('errorMessage').style.display = 'block';
            document.getElementById('errorText').textContent = message;
            document.getElementById('successMessage').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Form submission
        document.getElementById('betaForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.textContent;
            
            // Show loading
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;
            
            try {
                const formData = collectFormData();
                
                // Basic validation
                if (!formData.age) {
                    throw new Error('Please enter your age.');
                }
                
                const result = await submitToFirebase(formData);
                
                if (result.success) {
                    showSuccess();
                    document.getElementById('betaForm').reset();
                    setupRatingSliders(); // Reset sliders to 5
                } else {
                    throw new Error(result.error || 'Submission failed');
                }
                
            } catch (error) {
                showError(error.message);
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            setupRatingSliders();
        });
    </script>
</body>
</html>
